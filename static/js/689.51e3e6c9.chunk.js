"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[689,45],{45:function(t,e,r){r.r(e),r.d(e,{default:function(){return f}});var n=r(731),a=r(689),o="PopularMovieItem_listItem__R0HUg",s="PopularMovieItem_listItemLink__0e2ga",c="PopularMovieItem_listItemTitle__L-ogb",u="PopularMovieItem_listItemImage__C6LZh",i=r(184),f=function(t){var e=t.movies,r=(0,a.TH)();return e.map((function(t){return(0,i.jsx)("li",{className:o,children:(0,i.jsxs)(n.rU,{className:s,to:"/movies/".concat(t.id),state:{from:r},children:[(0,i.jsx)("p",{className:c,children:t.title||t.name}),(0,i.jsx)("img",{className:u,src:"https://image.tmdb.org/t/p/w500".concat(t.poster_path),alt:t.title})]})},t.id)}))}},123:function(t,e,r){r.r(e),r.d(e,{default:function(){return b}});var n=r(982),a=r(861),o=r(885),s=r(757),c=r.n(s),u=r(791),i=r(562),f=r.n(i),l=r(673),p=r(731),h=r(508),v="SearchBar_form__gW7Gj",d="SearchBar_inputField__uvb3B",m="SearchBar_submit__b0A-b",g=r(184),x=function(t){var e=t.onSubmit,r=t.query,n=(0,u.useState)(r),a=(0,o.Z)(n,2),s=a[0],c=a[1],i=function(){c("")};return(0,g.jsxs)("form",{className:v,onSubmit:function(t){t.preventDefault();var r=s.trim();""!==r?(e(r),i()):f().Notify.failure("You have to enter something first to search for movie!")},children:[(0,g.jsx)("button",{className:m,type:"submit",children:(0,g.jsx)("span",{children:(0,g.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:[(0,g.jsx)("title",{children:"search"}),(0,g.jsx)("path",{d:"M19 17l-5.15-5.15a7 7 0 1 0-2 2L17 19zM3.5 8A4.5 4.5 0 1 1 8 12.5 4.5 4.5 0 0 1 3.5 8z"})]})})}),(0,g.jsx)("input",{className:d,type:"text",onChange:function(t){c(t.target.value)},autoComplete:"off",autoFocus:!0,placeholder:"Search images"})]})},_=r(45),w="Movies_list__hqYjd",b=function(){var t=(0,u.useState)([]),e=(0,o.Z)(t,2),r=e[0],s=e[1],i=(0,u.useState)(!1),v=(0,o.Z)(i,2),d=v[0],m=v[1],b=(0,p.lr)(),k=(0,o.Z)(b,2),y=k[0],j=k[1],Z=(0,u.useState)(null),S=(0,o.Z)(Z,2),E=S[0],I=S[1],P=y.get("query")||"";return(0,u.useEffect)((function(){if(""!==P){var t=function(){var t=(0,a.Z)(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.prev=1,t.next=4,(0,h.bI)(P);case 4:if(0!==(e=t.sent).length){t.next=8;break}return s([]),t.abrupt("return",f().Notify.failure("Please, check the correct spelling of the movie title and try again"));case 8:s((0,n.Z)(e)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),I(t.t0);case 14:return t.prev=14,m(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})));return function(){return t.apply(this,arguments)}}();t()}}),[P]),(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{children:[(0,g.jsx)(x,{onSubmit:function(t){j(""!==t?{query:t}:{})},value:P}),d&&(0,g.jsx)(l.default,{}),E&&(0,g.jsx)("p",{children:"Oops! Something went wrong :( Please, reload page and try again"})]}),(0,g.jsx)("ul",{className:w,children:r&&(0,g.jsx)(_.default,{movies:r})})]})}},508:function(t,e,r){r.d(e,{SU:function(){return i},bI:function(){return f},l2:function(){return l},tx:function(){return h},zv:function(){return p}});var n=r(861),a=r(757),o=r.n(a),s=r(44),c="ffa446ff4e98eda704f81d136e56b989",u="https://api.themoviedb.org/3/",i=function(){var t=(0,n.Z)(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.ZP.get("".concat(u,"trending/movie/day?api_key=").concat(c));case 2:if(200===(e=t.sent).status){t.next=5;break}throw new Error("Error, nothing found");case 5:return t.abrupt("return",e.data.results);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,n.Z)(o().mark((function t(e){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.ZP.get("".concat(u,"search/movie?api_key=").concat(c,"&page=1&query=").concat(e));case 2:if(200===(r=t.sent).status){t.next=5;break}throw new Error("Error, nothing found");case 5:return console.log(r.data),t.abrupt("return",r.data.results);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,n.Z)(o().mark((function t(e){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.ZP.get("".concat(u,"movie/").concat(e,"?api_key=").concat(c));case 2:if(200===(r=t.sent).status){t.next=5;break}throw new Error("Error, nothing found");case 5:return t.abrupt("return",r.data);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,n.Z)(o().mark((function t(e){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.ZP.get("".concat(u,"movie/").concat(e,"/credits?api_key=").concat(c));case 2:if(r=t.sent,console.log(r),200===r.status){t.next=6;break}throw new Error("Error, nothing found");case 6:return t.abrupt("return",r.data.cast);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=(0,n.Z)(o().mark((function t(e){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.ZP.get("".concat(u,"movie/").concat(e,"/reviews?api_key=").concat(c));case 2:if(200===(r=t.sent).status){t.next=5;break}throw new Error("Error, nothing found");case 5:return t.abrupt("return",r.data.results);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=689.51e3e6c9.chunk.js.map
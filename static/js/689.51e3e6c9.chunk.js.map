{"version":3,"file":"static/js/689.51e3e6c9.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/PopularMovieItem/PopularMovieItem.module.css?bd70","components/PopularMovieItem/PopularMovieItem.jsx","webpack://goit-react-hw-05-movies/./src/components/SearchBar/SearchBar.module.css?35a0","components/SearchBar/SearchBar.jsx","webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","services/moviesApi.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"listItem\":\"PopularMovieItem_listItem__R0HUg\",\"listItemLink\":\"PopularMovieItem_listItemLink__0e2ga\",\"listItemTitle\":\"PopularMovieItem_listItemTitle__L-ogb\",\"listItemImage\":\"PopularMovieItem_listItemImage__C6LZh\"};","import { Link, useLocation } from \"react-router-dom\";\nimport styles from 'components/PopularMovieItem/PopularMovieItem.module.css'\n\n\nconst PopularMoviesItem = ({movies}) => {\n\n const location = useLocation();\n\n\n\n\n return movies.map(movie => {\n\n    return (\n\n        <li key={movie.id} className={styles.listItem}>\n\n            <Link\n                className={styles.listItemLink}\n                to={`/movies/${movie.id}`} state={{ from: location }}>\n\n            \n                <p className={styles.listItemTitle}>{movie.title || movie.name}</p>\n                    <img\n                  className={styles.listItemImage}\n                  src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}\n                  alt={movie.title}\n                />\n\n            </Link>\n\n        </li>\n\n    );\n\n });\n\n\n\n\n};\n\n\nexport default PopularMoviesItem;","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchBar_form__gW7Gj\",\"inputField\":\"SearchBar_inputField__uvb3B\",\"submit\":\"SearchBar_submit__b0A-b\"};","import React from \"react\";\nimport { useState } from \"react\";\nimport PropTypes from 'prop-types';\nimport Notiflix from \"notiflix\";\nimport styles from './SearchBar.module.css'\n\nconst SearchBar = ({ onSubmit, query }) => {\n    const [value, setValue] = useState(query);\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        const valueInput = value.trim();\n        if (valueInput === \"\") {\n            Notiflix.Notify.failure(\n                'You have to enter something first to search for movie!')\n            return;\n        }\n\n\n        onSubmit(valueInput);\n        reset();\n    };\n  \n    const handleChange = e => {\n        setValue(e.target.value)\n    };\n\n    const reset = () => {\n    \n        setValue('');\n    };\n\n\n   return (\n    \n            <form className={styles.form} onSubmit={handleSubmit}>\n           \n               <button className={styles.submit}type=\"submit\">\n               <span >\n                  \n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"20\"\n                height=\"20\"\n                viewBox=\"0 0 20 20\"\n              >\n                <title>search</title>\n                <path d=\"M19 17l-5.15-5.15a7 7 0 1 0-2 2L17 19zM3.5 8A4.5 4.5 0 1 1 8 12.5 4.5 4.5 0 0 1 3.5 8z\" />\n              </svg>\n            </span>\n          </button>\n\n           <input className={styles.inputField}\n           \n            type=\"text\"\n            onChange={handleChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images\"\n          />\n        </form>\n    \n    );\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  query: PropTypes.string.isRequired,\n}\n\nexport default SearchBar;","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Movies_list__hqYjd\",\"listItem\":\"Movies_listItem__YWcFi\",\"listItemLink\":\"Movies_listItemLink__jaJEv\",\"listItemTitle\":\"Movies_listItemTitle__etJcn\",\"listItemImage\":\"Movies_listItemImage__dkyPy\"};","import { useState, useEffect } from 'react';\nimport Notiflix from 'notiflix';\nimport Loader from 'components/Loader/Loader';\nimport { useSearchParams, } from 'react-router-dom';\nimport { fetchSearchMovies } from 'services/moviesApi';\nimport SearchBar from 'components/SearchBar/SearchBar';\nimport PopularMovieItem from 'components/PopularMovieItem/PopularMovieItem';\nimport styles from 'pages/Movies/Movies.module.css'\n\nimport PropTypes from 'prop-types';\n\n\n\nconst Movies = () => {\n\n    const [searchMovie, setSearchMovie] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [searchParams, setSearchParams] = useSearchParams();\n    const [error, setError] = useState(null)\n\n    const query = searchParams.get('query') || '';\n\n    const handleSubmit = value => {\n        setSearchParams(value !== '' ? {query: value} : {})\n    }\n\n    useEffect(() => {\n    if (query === '') {\n      return\n    }\n\n  const fetchMovies = async () => {\n    setLoading(true)\n\n    try {\n      const data = await fetchSearchMovies(query)\n\n      if (data.length === 0) {\n        setSearchMovie([])\n        return Notiflix.Notify.failure('Please, check the correct spelling of the movie title and try again')\n      }\n\n     setSearchMovie([...data])\n\n    } catch (error) {\n      setError(error)\n    }\n    finally {\n      setLoading(false)\n    }\n  }\n    fetchMovies();\n  }, [query])\n    \n    return (\n        <div>\n            <div>\n                <SearchBar onSubmit={handleSubmit} value={query} />\n                {loading && <Loader />}\n                {error && <p>Oops! Something went wrong :( Please, reload page and try again</p>}\n               \n            </div>\n   \n        <ul className={styles.list}>{searchMovie && <PopularMovieItem movies={searchMovie} />}</ul>\n        \n        \n        </div>\n    )\n    \n}\nMovies.propTypes = {\n  movie: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n\n  }),\n}\n\nexport default Movies;","import axios from \"axios\";\n\nconst KEY = 'ffa446ff4e98eda704f81d136e56b989';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nexport const fetchPopularMovies = async () => {\n    const response = await axios.get(`${BASE_URL}trending/movie/day?api_key=${KEY}`);\n\n    if (response.status !== 200) {\n        throw new Error('Error, nothing found');\n      \n    }\n    return response.data.results;\n    \n};\n\nexport const fetchSearchMovies = async (query) => {\n    const response = await axios.get(`${BASE_URL}search/movie?api_key=${KEY}&page=1&query=${query}`);\n\n    if (response.status !== 200) {\n        throw new Error('Error, nothing found');\n    }\n    console.log(response.data)\n    return response.data.results;\n    \n};\n\nexport const fetchMoviesDetails = async (movieId) => {\n    const response = await axios.get(`${BASE_URL}movie/${movieId}?api_key=${KEY}`)\n\n    if (response.status !== 200) {\n        throw new Error('Error, nothing found');\n    }\n    return response.data;\n};\n\nexport const getMovieCredits = async (id) => {\n    const response = await axios.get(`${BASE_URL}movie/${id}/credits?api_key=${KEY}`)\nconsole.log(response)\n    if (response.status !== 200) {\n        throw new Error('Error, nothing found');\n    }\n    return response.data.cast;\n}\n\nexport const getMovieReviews  = async (movieId) => {\n    const response = await axios.get(`${BASE_URL}movie/${movieId}/reviews?api_key=${KEY}`)\n\n    if (response.status !== 200) {\n        throw new Error('Error, nothing found');\n    }\n    return response.data.results;\n}"],"names":["movies","location","useLocation","map","movie","className","styles","to","id","state","from","title","name","src","poster_path","alt","onSubmit","query","useState","value","setValue","reset","e","preventDefault","valueInput","trim","Notiflix","type","xmlns","width","height","viewBox","d","onChange","target","autoComplete","autoFocus","placeholder","searchMovie","setSearchMovie","loading","setLoading","useSearchParams","searchParams","setSearchParams","error","setError","get","useEffect","fetchMovies","fetchSearchMovies","data","length","Loader","PopularMovieItem","KEY","BASE_URL","fetchPopularMovies","axios","response","status","Error","results","console","log","fetchMoviesDetails","movieId","getMovieCredits","cast","getMovieReviews"],"sourceRoot":""}